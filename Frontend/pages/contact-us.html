<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact Us - AgroScan</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/chatbot.css">
  <script src="../js/chatbot.js" defer></script>
  <style>
    :root {
      --primary-green: #00c851;
      --secondary-green: #00ff41;
      --dark-green: #00a142;
      --accent-orange: #ff6b35;
      --bg-dark: #0a0f0a;
      --bg-light: #f8fff8;
      --text-light: #ffffff;
      --text-dark: #1a1a1a;
      --glass-bg: rgba(255, 255, 255, 0.1);
      --glass-border: rgba(255, 255, 255, 0.2);
      --error-color: #ff4757;
      --success-color: #2ed573;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg-dark);
      color: var(--text-light);
      overflow-x: hidden;
      scroll-behavior: smooth;
      line-height: 1.6;
    }

    /* Animated background particles */
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    .particle {
      position: absolute;
      width: 2px;
      height: 2px;
      background: var(--primary-green);
      border-radius: 50%;
      opacity: 0.3;
      animation: float 6s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.3; }
      50% { transform: translateY(-20px) rotate(180deg); opacity: 0.8; }
    }

    /* Header with glassmorphism */
    header {
      position: fixed;
      top: 0;
      width: 100%;
      background: rgba(10, 15, 10, 0.9);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--glass-border);
      padding: 15px 0;
      z-index: 1000;
      transition: all 0.3s ease;
    }

    header.scrolled {
      background: rgba(10, 15, 10, 0.95);
      backdrop-filter: blur(30px);
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .logo {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.8rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary-green), var(--secondary-green));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: glow 2s ease-in-out infinite alternate;
      text-decoration: none;
    }

    @keyframes glow {
      from { filter: drop-shadow(0 0 5px var(--primary-green)); }
      to { filter: drop-shadow(0 0 20px var(--primary-green)); }
    }

    .back-btn {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      color: var(--text-light);
      padding: 10px 20px;
      border-radius: 25px;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .back-btn:hover {
      background: rgba(0, 200, 81, 0.2);
      transform: translateX(-5px);
    }

    /* Main content */
    .main-content {
      padding-top: 100px;
      min-height: 100vh;
    }

    .hero-section {
      padding: 60px 20px;
      text-align: center;
      background: 
        radial-gradient(circle at 30% 70%, rgba(0, 200, 81, 0.2) 0%, transparent 50%),
        radial-gradient(circle at 70% 30%, rgba(255, 107, 53, 0.15) 0%, transparent 50%);
    }

    .hero-section h1 {
      font-family: 'Space Grotesk', sans-serif;
      font-size: clamp(2.5rem, 6vw, 4rem);
      font-weight: 700;
      margin-bottom: 20px;
      background: linear-gradient(135deg, var(--text-light), var(--primary-green));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: slideInUp 1s ease-out;
    }

    .hero-section p {
      font-size: clamp(1rem, 2.5vw, 1.3rem);
      max-width: 600px;
      margin: 0 auto;
      opacity: 0.9;
      animation: slideInUp 1s ease-out 0.3s both;
    }

    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Contact container */
    .contact-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 60px 20px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      align-items: start;
    }

    /* Contact info */
    .contact-info {
      animation: slideInLeft 1s ease-out 0.6s both;
    }

    @keyframes slideInLeft {
      from {
        opacity: 0;
        transform: translateX(-50px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .contact-info h2 {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 2.2rem;
      font-weight: 600;
      margin-bottom: 30px;
      color: var(--primary-green);
    }

    .contact-card {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      padding: 30px;
      border-radius: 20px;
      margin-bottom: 25px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .contact-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 200, 81, 0.1), transparent);
      transition: left 0.7s ease;
    }

    .contact-card:hover::before {
      left: 100%;
    }

    .contact-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(0, 200, 81, 0.2);
    }

    .contact-card-header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 15px;
    }

    .contact-icon {
      font-size: 1.8rem;
      padding: 12px;
      background: rgba(0, 200, 81, 0.2);
      border-radius: 12px;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .contact-card h3 {
      font-size: 1.3rem;
      font-weight: 600;
      color: var(--primary-green);
    }

    .contact-card p {
      opacity: 0.9;
      line-height: 1.7;
      position: relative;
      z-index: 2;
    }

    .contact-card a {
      color: var(--secondary-green);
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .contact-card a:hover {
      color: var(--primary-green);
      text-shadow: 0 0 10px var(--primary-green);
    }

    /* Contact form */
    .contact-form {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      padding: 40px;
      border-radius: 24px;
      animation: slideInRight 1s ease-out 0.9s both;
      position: relative;
      overflow: hidden;
    }

    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(50px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .contact-form::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--primary-green), var(--secondary-green), var(--primary-green));
      background-size: 200% 100%;
      animation: shimmer 3s ease-in-out infinite;
    }

    @keyframes shimmer {
      0%, 100% { background-position: 200% 0; }
      50% { background-position: -200% 0; }
    }

    .contact-form h2 {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 2rem;
      font-weight: 600;
      margin-bottom: 30px;
      color: var(--text-light);
      position: relative;
      z-index: 2;
    }

    .form-group {
      margin-bottom: 25px;
      position: relative;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--text-light);
      opacity: 0.9;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 15px 20px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--glass-border);
      border-radius: 12px;
      color: var(--text-light);
      font-size: 1rem;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--primary-green);
      box-shadow: 0 0 20px rgba(0, 200, 81, 0.3);
      background: rgba(255, 255, 255, 0.08);
    }

    .form-group textarea {
      resize: vertical;
      min-height: 120px;
    }

    .form-group input::placeholder,
    .form-group textarea::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .submit-btn {
      width: 100%;
      background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
      border: none;
      padding: 18px;
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--text-light);
      border-radius: 12px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
      box-shadow: 0 10px 30px rgba(0, 200, 81, 0.4);
    }

    .submit-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      transition: left 0.7s ease;
    }

    .submit-btn:hover::before {
      left: 100%;
    }

    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 40px rgba(0, 200, 81, 0.6);
    }

    .submit-btn:active {
      transform: translateY(0);
    }

    /* Success/Error messages */
    .message {
      padding: 15px 20px;
      border-radius: 12px;
      margin-bottom: 20px;
      font-weight: 500;
      display: none;
      animation: slideInDown 0.5s ease-out;
    }

    @keyframes slideInDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .message.success {
      background: rgba(46, 213, 115, 0.2);
      border: 1px solid var(--success-color);
      color: var(--success-color);
    }

    .message.error {
      background: rgba(255, 71, 87, 0.2);
      border: 1px solid var(--error-color);
      color: var(--error-color);
    }

    /* Loading animation */
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--bg-dark);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }

    .loading-overlay.hidden {
      opacity: 0;
      visibility: hidden;
    }

    .loader {
      width: 60px;
      height: 60px;
      border: 3px solid var(--glass-border);
      border-top: 3px solid var(--primary-green);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .contact-container {
        grid-template-columns: 1fr;
        gap: 40px;
        padding: 40px 20px;
      }
      
      .form-row {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      
      .contact-form {
        padding: 30px 20px;
      }
      
      .header-content {
        padding: 0 15px;
      }
      
      .back-btn {
        padding: 8px 16px;
        font-size: 0.9rem;
      }
    }

    /* Map section */
    .map-section {
      margin: 60px 0;
      padding: 0 20px;
    }

    .map-container {
      max-width: 1200px;
      margin: 0 auto;
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 20px;
      padding: 30px;
      text-align: center;
    }

    .map-placeholder {
      background: rgba(0, 200, 81, 0.1);
      border: 2px dashed var(--primary-green);
      border-radius: 16px;
      padding: 60px 20px;
      margin-top: 20px;
    }

    .map-placeholder h3 {
      color: var(--primary-green);
      margin-bottom: 10px;
      font-size: 1.5rem;
    }

    .map-placeholder p {
      opacity: 0.8;
    }
    option {
        color: black;
    }

    /* Chatbot styles (backup in case external CSS fails to load) */
    #chatbot {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      font-family: 'Inter', sans-serif;
    }

    #chatbotButton {
      background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
      color: var(--text-light);
      border: none;
      width: 65px;
      height: 65px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 28px;
      box-shadow: 0 4px 20px rgba(0, 200, 81, 0.4);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% {
        box-shadow: 0 4px 20px rgba(0, 200, 81, 0.4);
        transform: scale(1);
      }
      50% {
        box-shadow: 0 4px 25px rgba(0, 200, 81, 0.6);
        transform: scale(1.05);
      }
      100% {
        box-shadow: 0 4px 20px rgba(0, 200, 81, 0.4);
        transform: scale(1);
      }
    }

    #chatbotButton:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 30px rgba(0, 200, 81, 0.6);
    }

    #chatWindow {
      position: absolute;
      bottom: 85px;
      right: 0;
      width: 380px;
      height: 600px;
      background: linear-gradient(145deg, rgba(10, 15, 10, 0.95), rgba(15, 25, 15, 0.98));
      border: 1px solid rgba(0, 200, 81, 0.2);
      border-radius: 24px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(10px);
      display: flex;
      flex-direction: column;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      transform-origin: bottom right;
      overflow: hidden;
    }

    #chatWindow::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 100%;
      background: radial-gradient(circle at top right, rgba(0, 200, 81, 0.1), transparent 60%),
                  radial-gradient(circle at bottom left, rgba(0, 255, 65, 0.05), transparent 60%);
      pointer-events: none;
    }

    #chatWindow.hidden {
      transform: scale(0.95) translateY(20px);
      opacity: 0;
      visibility: hidden;
    }

    #chatHeader {
      padding: 20px 25px;
      background: linear-gradient(to right, rgba(0, 200, 81, 0.1), rgba(0, 200, 81, 0.05));
      border-bottom: 1px solid rgba(0, 200, 81, 0.1);
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-radius: 24px 24px 0 0;
    }

    #chatHeader span {
      font-family: 'Space Grotesk', sans-serif;
      font-weight: 600;
      font-size: 1.2rem;
      background: linear-gradient(135deg, #fff, #a0ffc2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    #chatHeader span::before {
      content: 'üå±';
      font-size: 1.4rem;
    }

    #closeChat {
      background: rgba(255, 255, 255, 0.1);
      border: none;
      color: var(--text-light);
      font-size: 18px;
      cursor: pointer;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    #closeChat:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: rotate(90deg);
    }

    #chatContent {
      flex: 1;
      overflow-y: auto;
      padding: 25px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      scroll-behavior: smooth;
      position: relative;
    }

    #chatContent::-webkit-scrollbar {
      width: 6px;
    }

    #chatContent::-webkit-scrollbar-track {
      background: transparent;
    }

    #chatContent::-webkit-scrollbar-thumb {
      background: rgba(0, 200, 81, 0.2);
      border-radius: 10px;
    }

    #chatContent::-webkit-scrollbar-thumb:hover {
      background: rgba(0, 200, 81, 0.3);
    }

    .user-message, .bot-message {
      max-width: 85%;
      padding: 14px 18px;
      border-radius: 18px;
      font-size: 0.95rem;
      line-height: 1.5;
      position: relative;
      animation: messageAppear 0.3s ease-out;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .user-message {
      background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
      color: white;
      margin-left: auto;
      border-radius: 18px 18px 0 18px;
    }

    .bot-message {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      margin-right: auto;
      border-radius: 18px 18px 18px 0;
      color: #e6e6e6;
    }

    .bot-message::before {
      content: 'üåø';
      position: absolute;
      top: -20px;
      left: 0;
      font-size: 14px;
      opacity: 0.7;
    }

    @keyframes messageAppear {
      0% {
        opacity: 0;
        transform: translateY(10px) scale(0.95);
      }
      100% {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    #chatInputArea {
      padding: 20px 25px;
      background: rgba(0, 0, 0, 0.2);
      border-top: 1px solid rgba(255, 255, 255, 0.05);
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 12px;
      position: relative;
    }

    #chatInputArea::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(to right, transparent, rgba(0, 200, 81, 0.2), transparent);
    }

    #chatInput {
      width: 100%;
      padding: 14px 20px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 25px;
      background: rgba(255, 255, 255, 0.05);
      color: var(--text-light);
      font-size: 0.95rem;
      outline: none;
      transition: all 0.3s ease;
    }

    #chatInput:focus {
      border-color: var(--primary-green);
      background: rgba(255, 255, 255, 0.08);
      box-shadow: 0 0 0 3px rgba(0, 200, 81, 0.1);
    }

    #chatInput::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }

    #sendMessage {
      background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
      color: white;
      padding: 14px 28px;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      font-weight: 500;
      font-size: 0.95rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 200, 81, 0.2);
    }

    #sendMessage::after {
      content: '‚Üí';
      margin-left: 8px;
      font-size: 1.2em;
      transition: transform 0.3s ease;
    }

    #sendMessage:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 200, 81, 0.3);
    }

    #sendMessage:hover::after {
      transform: translateX(3px);
    }

    #sendMessage:active {
      transform: translateY(1px);
    }

    #typingIndicator {
      position: absolute;
      bottom: 90px;
      left: 25px;
      background: rgba(0, 0, 0, 0.8);
      padding: 8px 16px;
      border-radius: 15px;
      font-size: 0.9rem;
      color: var(--text-light);
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    #typingIndicator::before {
      content: '';
      width: 8px;
      height: 8px;
      background: var(--primary-green);
      border-radius: 50%;
      animation: pulse 1s infinite;
    }

    #typingIndicator.visible {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body>
  <!-- Loading overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loader"></div>
  </div>

  <!-- Animated background particles -->
  <div class="particles" id="particles"></div>

  <header id="header">
    <div class="header-content">
      <a href="#" class="logo">AgroScan</a>
      <a href="#" class="back-btn" onclick="goBack()">
        ‚Üê Back to Home
      </a>
    </div>
  </header>

  <main class="main-content">
    <section class="hero-section">
      <h1>Get in Touch</h1>
      <p>Have questions about our AI-powered crop disease detection? We're here to help farmers revolutionize their agricultural practices.</p>
    </section>

    <div class="contact-container">
      <div class="contact-info">
        <h2>Contact Information</h2>
        
        <div class="contact-card">
          <div class="contact-card-header">
            <div class="contact-icon">üìß</div>
            <h3>Email Support</h3>
          </div>
          <p>Get technical support and general inquiries answered within 24 hours.</p>
          <p><a href="mailto:support@agroscan.com">support@agroscan.com</a></p>
          <p><a href="mailto:info@agroscan.com">info@agroscan.com</a></p>
        </div>

        <div class="contact-card">
          <div class="contact-card-header">
            <div class="contact-icon">üì±</div>
            <h3>Phone Support</h3>
          </div>
          <p>Speak directly with our agricultural technology experts during business hours.</p>
          <p><a href="tel:+911234567890">+91 123 456 7890</a></p>
          <p><a href="tel:+911234567891">+91 123 456 7891</a> (Marathi/Hindi)</p>
        </div>

        <div class="contact-card">
          <div class="contact-card-header">
            <div class="contact-icon">üè¢</div>
            <h3>Office Address</h3>
          </div>
          <p>Visit our development center and meet our team of agricultural AI specialists.</p>
          <p>KK Wagh Institute of Engineering Education & Research<br>
          Nashik, Maharashtra 422003<br>
          India</p>
        </div>

        <div class="contact-card">
          <div class="contact-card-header">
            <div class="contact-icon">‚è∞</div>
            <h3>Business Hours</h3>
          </div>
          <p>Monday - Friday: 9:00 AM - 6:00 PM IST<br>
          Saturday: 10:00 AM - 4:00 PM IST<br>
          Sunday: Closed</p>
          <p>Emergency crop disease support available 24/7</p>
        </div>
      </div>

      <div class="contact-form">
        <h2>Send us a Message</h2>
        <div id="messageContainer"></div>
        
        <form id="contactForm">
          <div class="form-row">
            <div class="form-group">
              <label for="firstName">First Name *</label>
              <input type="text" id="firstName" name="firstName" required placeholder="Enter your first name">
            </div>
            <div class="form-group">
              <label for="lastName">Last Name *</label>
              <input type="text" id="lastName" name="lastName" required placeholder="Enter your last name">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="email">Email Address *</label>
              <input type="email" id="email" name="email" required placeholder="your.email@example.com">
            </div>
            <div class="form-group">
              <label for="phone">Phone Number</label>
              <input type="tel" id="phone" name="phone" placeholder="+91 12345 67890">
            </div>
          </div>

          <div class="form-group">
            <label for="userType">I am a *</label>
            <select id="userType" name="userType" required>
              <option  value="">Select your role</option>
              <option  value="farmer">Farmer</option>
              <option  value="agriculture-expert">Agriculture Expert</option>
              <option  value="researcher">Researcher</option>
              <option  value="student">Student</option>
              <option  value="government-official">Government Official</option>
              <option  value="other">Other</option>
            </select>
          </div>

          <div class="form-group">
            <label for="subject">Subject *</label>
            <select id="subject" name="subject" required>
              <option  value="">Select a topic</option>
              <option  value="technical-support">Technical Support</option>
              <option  value="disease-identification">Disease Identification Help</option>
              <option  value="feature-request">Feature Request</option>
              <option  value="partnership">Partnership Inquiry</option>
              <option  value="training">Training & Education</option>
              <option  value="general">General Inquiry</option>
            </select>
          </div>

          <div class="form-group">
            <label for="message">Message *</label>
            <textarea id="message" name="message" required placeholder="Tell us about your inquiry, the crops you're working with, or any specific challenges you're facing..."></textarea>
          </div>

          <button type="submit" class="submit-btn">Send Message</button>
        </form>
      </div>
    </div>

    <section class="map-section">
      <div class="map-container">
        <h2>Find Us</h2>
        <div class="map-placeholder">
          <h3>üó∫Ô∏è Interactive Map</h3>
          <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3748.8790261307277!2d73.81968647522935!3d20.013591381393802!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bddebab15555555%3A0xdb01367e9d5cf969!2sK.K%20Wagh%20Institute%20Of%20Engineering%20Education%20and%20Research!5e0!3m2!1sen!2sin!4v1748406334342!5m2!1sen!2sin" width="1024" height="576" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          <p>KK Wagh Institute of Engineering Education & Research<br>
          Nashik, Maharashtra, India</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Chatbot -->
  <div id="chatbot">
    <button id="chatbotButton">ü§ñ</button>
    <div id="chatWindow" class="hidden">
      <div id="chatHeader">
        <span>AgroScan Support</span>
        <button id="closeChat">√ó</button>
      </div>
      <div id="chatContent">
        <div class="bot-message">Hello! I'm your AgroScan support assistant. How can I help you today? Feel free to ask about our services, technical support, or general inquiries. üå±</div>
      </div>
      <div id="chatInputArea">
        <input type="text" id="chatInput" placeholder="Type your message here..." />
        <button id="sendMessage">Send</button>
        <div id="typingIndicator" class="hidden">AI is thinking...</div>
      </div>
    </div>
  </div>

  <script>
    // Loading animation
    window.addEventListener('load', () => {
      setTimeout(() => {
        document.getElementById('loadingOverlay').classList.add('hidden');
      }, 1000);
    });

    // Create animated particles
    function createParticles() {
      const particlesContainer = document.getElementById('particles');
      const particleCount = 40;

      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.top = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 6 + 's';
        particle.style.animationDuration = (Math.random() * 4 + 4) + 's';
        particlesContainer.appendChild(particle);
      }
    }

    // Header scroll effect
    window.addEventListener('scroll', () => {
      const header = document.getElementById('header');
      if (window.scrollY > 50) {
        header.classList.add('scrolled');
      } else {
        header.classList.remove('scrolled');
      }
    });

    // Form handling
    document.getElementById('contactForm').addEventListener('submit', function(e) {
  e.preventDefault();  // Prevent the form from submitting normally

  const formData = new FormData(this);  // Get the form data
  const data = Object.fromEntries(formData);  // Convert form data to an object

  const submitBtn = document.querySelector('.submit-btn');
  const originalText = submitBtn.textContent;
  submitBtn.textContent = 'Sending...';
  submitBtn.disabled = true;

  // Send the data to the backend (Node.js server)
  fetch('http://localhost:3000/submit-form', {
    method: 'POST',
    body: JSON.stringify(data),
    headers: {
      'Content-Type': 'application/json'
    }
  })
  .then(response => response.json())
  .then(data => {
    if (data.status === 'success') {
      showMessage('success', 'Thank you for contacting us! We\'ll get back to you soon.');
    } else {
      showMessage('error', 'There was an error. Please try again later.');
    }
  })
  .catch(error => {
    showMessage('error', 'Something went wrong. Please try again.');
  })
  .finally(() => {
    submitBtn.textContent = originalText;
    submitBtn.disabled = false;
  });
});


    function showMessage(type, text) {
      const container = document.getElementById('messageContainer');
      const message = document.createElement('div');
      message.className = `message ${type}`;
      message.style.display = 'block';
      message.textContent = text;
      
      container.innerHTML = '';
      container.appendChild(message);
      
      // Auto hide after 5 seconds
      setTimeout(() => {
        message.style.opacity = '0';
        setTimeout(() => {
          container.removeChild(message);
        }, 500);
      }, 5000);
    }

    function goBack() {
      window.history.back();
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      createParticles();
      
      // Initialize chatbot
      const chatbot = new ChatBot();
      chatbot.setupEventListeners();
      window.chatbot = chatbot;
    });

    // Chatbot class (backup in case external JS fails to load)
    class ChatBot {
      constructor() {
        this.apiKey = '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';
        this.messageHistory = [];
        this.isProcessing = false;
      }

      setupEventListeners() {
        console.log('Setting up chatbot event listeners...'); // Debug log
        const chatbotButton = document.getElementById('chatbotButton');
        const closeChat = document.getElementById('closeChat');
        const sendMessage = document.getElementById('sendMessage');
        const chatInput = document.getElementById('chatInput');

        if (!chatbotButton || !closeChat || !sendMessage || !chatInput) {
          console.error('Some chat elements not found!');
          return;
        }

        chatbotButton.onclick = () => {
          console.log('Chat button clicked'); // Debug log
          const chatWindow = document.getElementById('chatWindow');
          chatWindow.classList.toggle('hidden');
        };

        closeChat.onclick = () => {
          console.log('Close button clicked'); // Debug log
          const chatWindow = document.getElementById('chatWindow');
          chatWindow.classList.add('hidden');
        };

        sendMessage.onclick = () => this.handleSendMessage();

        chatInput.onkeypress = (e) => {
          if (e.key === 'Enter') {
            e.preventDefault();
            this.handleSendMessage();
          }
        };
      }

      async handleSendMessage() {
        if (this.isProcessing) return;

        const chatInput = document.getElementById('chatInput');
        const message = chatInput.value.trim();
        const typingIndicator = document.getElementById('typingIndicator');
        
        if (message === '') return;

        this.addMessageToChat('user', message);
        chatInput.value = '';

        this.isProcessing = true;
        typingIndicator.classList.remove('hidden');
        typingIndicator.classList.add('visible');

        try {
          const response = await this.getAIResponse(message);
          this.addMessageToChat('bot', response);
        } catch (error) {
          console.error('Error getting AI response:', error);
          this.addMessageToChat('bot', 'I apologize, but I encountered an error. Please try again.');
        }

        typingIndicator.classList.remove('visible');
        setTimeout(() => {
          typingIndicator.classList.add('hidden');
        }, 300);
        this.isProcessing = false;
      }

      addMessageToChat(sender, message) {
        const chatContent = document.getElementById('chatContent');
        const messageElement = document.createElement('div');
        messageElement.textContent = message;
        messageElement.className = sender === 'user' ? 'user-message' : 'bot-message';
        chatContent.appendChild(messageElement);
        chatContent.scrollTop = chatContent.scrollHeight;

        this.messageHistory.push({
          role: sender === 'user' ? 'user' : 'assistant',
          content: message
        });
      }

      async getAIResponse(message) {
        try {
          const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Authorization': `Bearer ${this.apiKey}`,
              'HTTP-Referer': window.location.href,
              'X-Title': 'AgroScan Support'
            },
            body: JSON.stringify({
              model: 'mistralai/mistral-7b-instruct',
              messages: [
                {
                  role: 'system',
                  content: 'You are an AI support assistant for AgroScan, focused on helping users with contact and support-related queries. You can help with technical support, general inquiries, and guide users through the contact process. Be friendly, professional, and helpful. You have access to contact information like email (support@agroscan.com, info@agroscan.com), phone numbers (+91 123 456 7890), and office address (KK Wagh Institute of Engineering Education & Research, Nashik).'
                },
                ...this.messageHistory,
                {
                  role: 'user',
                  content: message
                }
              ]
            })
          });

          if (!response.ok) {
            throw new Error('Failed to get AI response');
          }

          const data = await response.json();
          return data.choices[0].message.content;
        } catch (error) {
          console.error('API Error:', error);
          throw error;
        }
      }
    }
  </script>
</body>
</html>